<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="poly.persistance.mapper.INoticeMapper">
	<!-- 게시글 검색 쿼리 데이터 낭비가 되니까 * 대신 불러올 것들만 다시 적어 쿼리 만들기 -->
	<select id="getBoardList" resultType="NoticeDTO">
	SELECT * FROM NOTICETABLE
	</select>
	
	<!-- 게시글 추가시 사용되는 쿼리 -->
	<insert id="insertPost" parameterType="NoticeDTO">
	INSERT INTO NOTICETABLE(
	POST_NO,
	REG_ID,
	POST_TITLE,
	POST_CONTENT,
	UPD_ID
	)VALUES(
	POST_SEQ.NEXTVAL,
	#{reg_id},
	#{post_title},
	#{post_content},
	#{reg_id}
	)
	</insert>
	
	
	<!-- 개인이 글 수정시에 필요한 문구 개인 게시글 입장  -->
	<select id="searchList" parameterType="NoticeDTO" resultType="NoticeDTO">
	SELECT 
		* 
	FROM 
		BOARD
	WHERE 
	 	POST_TITLE LIKE '%' || #{post_title} || '%'
	</select>

	<!-- 글이 수정될때 사용하는 쿼리문  -->
	<update id="getUpdatePost" parameterType="BoardDto">
	UPDATE BOARD 
	SET
	 	POST_TITLE=#{post_title},
	 	POST_CONTENT=#{post_content}	 	
	 WHERE 
	 	POST_NO=#{post_no}
	</update>
	
	
</mapper>